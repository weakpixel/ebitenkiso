//go:build ignore
//kage:unit pixels

package main

var Value vec2

func Fragment(position vec4, texCoord vec2, color vec4) vec4 {
	size := imageDstSize()
	center := size/2
	amount := (center - Value)  / center
	var r vec2
	r.xy = amount.yx/2 
	var clr vec4
	clr.r = imageSrc0At(texCoord + amount).r
	clr.g =imageSrc0At(texCoord + r).g
	clr.b = imageSrc0At(texCoord + amount).b
	clr.a = imageSrc0UnsafeAt(texCoord).a
	return clr
}
