//go:build ignore
//kage:unit pixels

// Cuts a hole into the screen
package main

var Value vec2

func Fragment(position vec4, texCoord vec2, color vec4) vec4 {
	delta := vec3(texCoord.x, texCoord.y, 0.0) - vec3(Value, 0.0)
	dist := length(delta)
	radius := 40.0
	if dist < radius {
		c := imageSrc0UnsafeAt(texCoord)
		c.a = 1.0 - length( delta / radius )
		return c
	}
	// return black
	return vec4(0)
}